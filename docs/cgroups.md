---
slug    : /container/cgroups
title   : cgroups 와 제어 그룹
description : 컨테이너 격리를 이해해보자
date    : 2022-10-14 23:36:51 +0900
---

# 목차
- 제어그룹이란?
- 제어그룹 위계구조
- 제어그룹 생성
- 제어그룹에 프로세스를 배정

## 제어 그룹이란?
제어 그룹의 목적은 프로세스가 사용할 수 있는 자원을 제한하는 것이다. 동일한 규칙으로 관리할 프로세스들을 하나의 group 이라고 부른다. group 단위로 자원 사용에 대한 규칙을 정의 할 수 있다. 

## 제어그룹의 hierarchy
커널은 유사 파일 시스템을 이용해서 제어그룹과 통신한다. 제어그룹을 관리한다는 것은, 이 파일 시스템에서 무언가를 읽거나, 쓰는 활동이라고 할 수 있다. 

hierarchy 는 위계적 구조를 의미하는데, 폴더가 파일과 폴더를 포함하고, 자식 폴더는 다시 폴더와 파일들을 포함하는 재귀적 계층 구조를 말한다. 

## 제어그룹 생성
제어그룹의 파일 시스템 구조에 새로운 디렉토리를 만들면 제어그룹을 생성할 수 있다. 컨테이너를 생성하면, 컨테이너를 위한 새로운 제어그룹이 생성된다. 

## 프로세스를 제어그룹에 배정
제어그룹의 특정파일에 프로세스 id를 추가하면 해당 프로세스가 제어그룹에 추가된다. 

